/* --- Tokens ------------------------------------------------------------- */
:root{
  --color-bg-gradient-start:#2d3142;
  --color-bg-gradient-end:#4f5d75;
  --color-heading:#fff;
  --color-label:#e0e0e0;
  --color-input-text:#fff;
  --color-input-placeholder:#c7c7c7;
  --color-input-border:#ef8354;
  --color-input-focus:#fff;
  --color-focus-bg:rgba(239,131,84,0.07);
  --color-btn-gradient-start:#ef8354;
  --color-btn-gradient-end:#f79f79;
  --color-btn-text:#fff;
  --font-main:'Open Sans',sans-serif;
}

/* --- Base reset --------------------------------------------------------- */
*{box-sizing:border-box}
body,form,input,button,select{margin:0;padding:0;font-family:var(--font-main)}

body{
  margin: 0;
  background: linear-gradient(120deg, var(--color-bg-gradient-start) 0%, var(--color-bg-gradient-end) 100%);
  color: var(--color-input-text);
}

.home-root{
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.home-root h1{
  color:var(--color-heading);
  font-size:3rem;
  font-weight:700;
  margin-bottom:2rem;
  letter-spacing:1px;
  text-align:center;
}

.home-root form{
  background: rgba(255,255,255,0.05);
  padding: 2rem 2.5rem;
  border-radius: 16px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.15);
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.home-root .col-span-2 { grid-column: span 2; }

/* --- Form --------------------------------------------------------------- */
form{
  background:rgba(255,255,255,0.05);
  padding:2rem 2.5rem;
  border-radius:16px;
  box-shadow:0 4px 24px rgba(0,0,0,0.15);
  display:flex;
  flex-direction:column;
  gap:2rem;
}

.form-row-brand{display:flex;flex-direction:column;gap:.6rem}
.brand-label{color:var(--color-label);font-size:1.1rem;font-weight:600}

/* Grid fields */
.form-grid{
  display:grid;
  grid-template-columns:repeat(3, 1fr);
  gap:1.5rem 2rem;
  width:100%;
}

.form-group{
  display:flex;
  flex-direction:column;
  gap:.5rem
}

label{
  color:var(--color-label);
  font-size:1.05rem;
  font-weight:600
}

/* Inputs */
input[type="text"],input[type="number"],select{
  padding:.8rem 1rem;
  border:2px solid var(--color-input-border);
  border-radius:8px;
  font-size:1rem;
  background:transparent;
  color:var(--color-input-text);
  transition:border-color .2s, box-shadow .2s, background .2s;
  width:100%;
  appearance:none;
}

input::placeholder,select:invalid{color:var(--color-input-placeholder);opacity:1}
input[type="text"]:focus,input[type="number"]:focus,select:focus{
  outline:none;
  border-color:var(--color-input-focus);
  background:var(--color-focus-bg);
}

select option{color:#222;background:#fff}

/* Submit button */
.btn-submit{
  padding:.9rem 1.5rem;
  background:linear-gradient(90deg,var(--color-btn-gradient-start),var(--color-btn-gradient-end));
  color:var(--color-btn-text);
  font-size:1.15rem;
  font-weight:700;
  border:none;border-radius:8px;
  cursor:pointer;
  transition:transform .15s ease;
  width:60%;
  align-self:center;
}
.btn-submit:hover{transform:translateY(-1px)}
.btn-submit:active{transform:translateY(0)}

/* Range sliders */
input[type="range"]{
  width:100%;height:2.2rem;margin-top:.5rem;
  background:transparent;border-radius:8px;accent-color:var(--color-btn-gradient-start);
}
.slider-value{font-size:1.1rem;font-weight:700;color:var(--color-btn-gradient-start);margin-left:.5rem}

/* Toggle switch */
.switch{position:relative;display:inline-block;width:70px;height:28px;vertical-align:middle}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;inset:0;background-color:var(--color-bg-gradient-start);
  border-radius:34px;transition:background .2s;box-shadow:0 2px 8px rgba(0,0,0,.07)}
.slider:before{position:absolute;content:"";height:22px;width:22px;left:5px;bottom:3px;background:var(--color-heading);border-radius:50%;
  transition:transform .2s;box-shadow:0 2px 8px rgba(0,0,0,.12)}
.switch input:checked + .slider{background-color:var(--color-btn-gradient-start)}
.switch input:checked + .slider:before{transform:translateX(180%);
background:var(--color-heading)}
.switch-state{margin-left:1rem;font-weight:700}
.switch-state.on{color:#ef8354}
.switch-state.off{color:#e0e0e0}

/* --- Brand dropdown ----------------------------------------------------- */
.brand-dropdown-container{position:relative;width:100%;}
.brand-dropdown-toggle{
  width:100%;background:transparent;color:#fff;border:2px solid var(--color-input-border);
  border-radius:8px;padding:.8rem 1rem;font-size:1rem;display:flex;align-items:center;justify-content:space-between;
  cursor:pointer;transition:border-color .2s, box-shadow .2s, background .2s;
}
.brand-dropdown-toggle:focus{outline:none;border-color:#fff;box-shadow:0 0 0 2px var(--color-input-border);background:var(--color-focus-bg)}

.brand-selected{display:flex;align-items:center;gap:.7rem}
.brand-logo{width:32px;height:32px;object-fit:contain;border-radius:6px;background:#fff;border:1px solid #eee}
.dropdown-arrow{margin-left:1rem;font-size:1.2rem}

.brand-dropdown-list{
  position:absolute;top:110%;left:0;min-width:100%;max-width:900px;
  background:#fff;border-radius:12px;box-shadow:0 4px 24px rgba(0,0,0,.15);z-index:10;
  padding:1rem .5rem;display:flex;gap:1rem;overflow-x:auto;
}

.brand-card{
  display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;
  width:100px;height:100px;background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.07);
  cursor:pointer;transition:background .15s, transform .15s, border-color .15s;border:2px solid transparent;
}
.brand-card:hover{background:#f0f0f0;transform:scale(1.05);border-color:var(--color-input-border)}
.brand-card-logo{width:48px;height:48px;object-fit:contain;border-radius:8px;background:#fff;border:1px solid #eee}
.brand-card span{font-size:1rem;font-weight:600;color:#222}


/* Inline pair: Accident Zone + Severity side-by-side */
.inline-pair {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem 1.25rem;
  align-items: start;              /* was end – top-align both columns */
}

/* Make inline-field behave like a normal form group */
.inline-field {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

/* Avoid double spacing when using gap */
.inline-field label { margin-bottom: 0; }


/* Disabled look for severity when zone is 'none' or empty */
.inline-field.is-disabled {
  opacity: 0.45;
}
.inline-field.is-disabled input[type="range"] {
  cursor: not-allowed;
  filter: grayscale(0.6);
}

/* Align slider + live value on one line */
.home-root .range-inline {
  display: flex;
  align-items: center;
  gap: .6rem;
}

/* Let the slider stretch while value stays tight */
.home-root .range-inline input[type="range"] {
  flex: 1;
}

/* Numeric badge next to the slider */
.home-root .range-value {
  min-width: 2ch;               /* keeps width stable for 0–5 */
  text-align: right;
  font-weight: 700;
  color: var(--color-btn-gradient-start);
}

/* When disabled via .is-disabled parent, keep the dimmed look */
.inline-field.is-disabled .range-value {
  color: #bfc0c0;
}

/* Red error border AFTER submit for all native invalid fields */
.home-root form.show-errors input:invalid,
.home-root form.show-errors select:invalid,
.home-root form.show-errors textarea:invalid {
  border-color: #ff6b6b !important;
  box-shadow: 0 0 0 2px rgba(255,107,107,0.18);
}

/* Custom Brand control (since it's not a native <select>) */
.home-root form.show-errors .brand-dropdown-toggle.error {
  border-color: #ff6b6b !important;
  box-shadow: 0 0 0 2px rgba(255,107,107,0.18);
}


/* --- Responsive --------------------------------------------------------- */
@media (max-width:900px){
  .form-grid{grid-template-columns:1fr 1fr}
}
@media (max-width:600px){
  .home-root form{padding:1rem}
  .home-root h1{font-size:1.8rem}
  .form-grid{grid-template-columns:1fr}
  .brand-dropdown-container{max-width:100%}
}
@media (min-width:901px){
    .home-root form{
      max-width: 95vw;
  }
}